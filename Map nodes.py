from cmu_112_graphics import *

def appStarted(app):

    app.nodes = (
     #1st floor- 100 hallway    
    "1000","1000A", "1001", "1001A", "1001B","1001C",'1002','1002Door','1003','1003A'
    ,'1004','1004Door','1006','1007','1008','1009','1010','1010Door','1011','1012','1013','1014','1014Door',
    
    #1st floor- 300 hall way:

    "1301","1302","1302Door","1352","1303","1305Door","1305","1307Door","1307","1309","1312","1312A","1311Door","1311",
    "1313Door","1313","1315Door","1315","1318","1320","1320A","1354","1317","1319","1322","1321Door","1321","1323","1323Door",
    "1324","1325","1325Door","1326","1327","1356","1329","1331","1333","1326Door","1330","1340",
    #SECOND FLOOR: 

    "2000","2001A","2001B","2001C","2002A","2002","2003","2005","2006","2008","2009","2011","2012","2015","2016","2014",
    "2016A","2014Door","2221","2201A","2201B","2201","2202","2203Door","2203","2204","2206","2207","2208","2301","2302Door",
    "2302","2352","2303Door","2303","2305","2305Door","2307","2307Door","2309","2311","2311Door","2313","2313Door","2310","2314",
    "2315","2315Door","2317","2319Door","2319","2321","2321Door","2323","2323Door","2325","2324Door1","2324","2356","2318","2354",
    "2325","2329","2331","2333","2334","2334Door","2330","2340","2338","2327"



    
    )

    app.nodeLocation = {"1000":(215,280), "1000A":(215,390),"1001":(180,390), 
    "1001A":(120,390), "1001B":(150,390),"1001C":(180,390),"1002Door":(120,405), "1002":(90,405),
     "1003":(80,355),"1004Door":(215,320),"1004":(175,320),"1006":(90,260), "1007":(85,310),"1008":(125,230),
     "1009":(130,270),"1010Door":(110,270),"1010":(110,320),"1011":(180,270),  "1012":(180,220),
      "1013":(170,290),"1014Door":(215,190),"1014":(160,190),


    #1300s:
    "1301":(250,190),"1302Door":(285,190),"1302":(285,230),"1352":(315,300),"1303":(285,190),"1305Door":(310,190),"1305":(310,160),
    "1307Door":(330,190),"1307":(335,160),"1309":(380,190),"1312":(390,250),"1312A":(390,290),"1311Door":(410,190),"1311":(410,160),
    "1313Door":(440,190),"1313":(440,160),"1315Door":(480,190),"1315":(480,160),"1318":(430,220),"1320":(490,250),"1320A":(480,290),
    "1354":(520,300),"1317":(520,190),"1319":(550,190),"1322":(560,250),"1321Door":(580,190),"1321":(590,160),"1323":(630,160),
    "1323Door":(630,190),"1325":(660,160),"1325Door":(660,190),"1324":(630,220),"1326":(690,260),"1356":(700,300),"1329":(690,190),
    "1331":(710,190),"1333":(730,190),"1327":(690,100),"1326Door":(780,190),"1330":(780,150),"1340":(800,195),

    #====2nd floor=====
    "2000":(1560,380),"2001A":(1525,350),"2001B":(1555,350),"2001C":(1575,350),"2002A":(1510,389),"2002":(1510,300),"2005":(1559,288),
    "2003":(1530,320),"2006":(1560,330),"2009":(1550,270),"2008":(1550,245),"2011":(1570,270),"2012":(1570,245),"2015":(1550,210),
    "2014":(1570,210),"2016":(1605,288),"2016A":(1605,380),"2014Door":(1600,220),"2221":(1480,280),"2201A":(1480,244),"2201":(1340,244),
    "2201B":(1200,244),"2202":(1220,344),"2203Door":(1230,410),"2203":(1200,410),"2204":(1200,380),"2206":(1100,410),"2207":(1110,370),
    "2208":(1150,370),"2301":(1630,220),"2302Door":(1630,220),"2302":(1670,270),"2352":(1690,300),"2303Door":(1660,220),"2303":(1655,195),
    "2305":(1675,195),"2305Door":(1675,220),"2307":(1705,195),"2307Door":(1705,220),"2309":(1725,220),"2311Door":(1755,220),"2311":(1755,195),
    "2313":(1785,195),"2313Door":(1785,220),"2310":(1755,260),"2314":(1785,260),"2315":(1815,195),"2315Door":(1815,220),"2317":(1835,220),
    "2319Door":(1865,220),"2319":(1865,195),"2321":(1885,195),"2321Door":(1885,220),"2323Door":(1915,220),"2323":(1915,195),"2325Door":(1965,220),
    "2324Door1":(1945,220),"2324":(1955,260),"2356":(1995,300),"2318":(1870,260),"2354":(1860,300),"2325":(1945,195),"2329":(1995,175),"2331":(1995,220),
    "2333":(2015,220),"2334":(2050,260),"2334Door":(2050,220),"2330":(2050,180),"2340":(2080,220),"2338":(2090,270),"2327":(1995,155)

                            
                             }
    app.inputGraph  = {
    #First Floor
        "1000": {"1011": 1, "1013": 1, "1004Door":1.5,"1014Door":4},
        "1000A":{"1004Door":3,"1001":1,"1001C":1},
        "1001": {"1000": 4,"1000A":1},
        "1001A": {"1001B":1,"1002Door":1,"2001A":1},
        "1001B": {"1001A": 1,"1001C": 1,"2001B":1},
        "1001C": {"1000A": 1,"1001B":1,"2001C":1},
        "1002":{"1002Door":1,"1003":1},
        "1002Door":{"1001A":.3,"1002":1},
        "1003":{"1002":1},
        "1003A":{"1003":.5},
        "1004":{"1004Door":1},
        "1004Door":{"1000":1.5,"1000A":4,"1004":1},
        "1006":{"1010Door":1,"1007":1},
        "1007":{"1006":1},
        "1008":{"1009":.5},
        "1009":{"1008":.5,"1010Door":1,"1011":1,"1013":1.2},
        "1010":{"1010Door":1},
        "1010Door":{"1006":1,"1009":1,"1010":1,"1013":.5},
        "1011":{"1000":1,"1012":1,"1009":1},
        "1012":{"1011":1},
        "1013":{"1009":1.2,"1011":.5,"1000":1},
        "1014Door":{"1000":4,"1014":1,"1301":1},
        "1014":{"1014":1,"1301":1},
        #1300s
        "1301":{"1014Door":1, "1302Door":1,"1303":1},
        "1302Door":{ "1301":1,"1302":1},
        "1302":{ "1302Door":1,"1352":1,"1303":1},
        "1352":{ "1302":1},
        "1303":{ "1301":1,"1302":1,"1305Door":1},
        "1305Door":{ "1303":1,"1305":.5, "1307Door":1},
        "1305":{ "1305Door":.5,"1307":.5},
        "1307":{"1305":.5,"1307Door":.2},
        "1307Door":{"1307":.2,"1305Door":1,"1309":1},
        "1309":{"1307Door":1,"1312":1,"1311Door":1},
        "1312":{"1309":12,"1312A":1},
        "1312A":{"1312":1},
        "1311Door":{"1309":1,"1311":1,"1318":1,"1313Door":1},
        "1311":{"1311Door":1,"1313":1},
        "1313Door":{"1311Door":1,"1313":1,"1315Door":1},
        "1313":{"1313Door":1,"1311":1,"1315":1},
        "1315":{"1315Door":1,"1313":1},
        "1315Door":{"1313Door":1,"1315":1,"1320":1,"1317":1},
        "1318":{"1311Door":1},
        "1320":{"1315Door":1},
        "1320A":{"1320":1,"1354":1},
        "1354":{"1320A":1,"1322":1}, 
        "1317":{"1315Door":1,"1319":1},
        "1319":{"1317":1,"1322":1.5,"1321Door":1},
        "1322":{"1319":1.5,"1354":1},
        "1321Door":{"1319":1,"1321":1,"1323Door":1},
        "1321":{"1321Door":1,"1323":1},
        "1323":{"1325":1,"1323Door":1,"1321":1},
        "1323Door":{"1323":1,"1325Door":1, "1324":1,"1321Door":1},
        "1325":{"1323":1,"1325Door":.5,"1327":1},
        "1325Door":{"1325":.5,"1323Door":1,"1326":1,"1329":1},
        "1327":{"1325":1},
        "1324":{"1323Door":1},
        "1326":{"1325Door":1,"1326Door":1,"1356":1},
        "1356":{"1326":1},
        "1329":{"1325":1,"1331":.2},
        "1331":{"1329":.2,"1333":.2},
        "1333":{"1331":.2},
        "1326Door":{"1326":1,"1330":1,"1340":.5},
        "1330":{"1326Door":1},
        "1340":{"1326Door":.5},

    #2nd Floor: 
       "2000":{"2001A":1,"2001B":1,"2001C":1,"2002A":1,"2016A":1},
       "2016A":{"2000":1,"2016":1},
       "2001A":{"2000":1,"1001A":1,},
       "2001B":{"2000":1,"1001B":1},
       "2001C":{"2000":1,"1001C":1},
       "2002A":{"2000":1,"2002":1},
       "2002":{"2002A":1,"2220":1,"2005":1},
       "2221":{"2002":1,"2201A":1},
       "2201A":{"2221":1,"2201":1},
       "2201":{"2201A":1,"2201B":1},
       "2201B":{"2201":1,"2202":1},
       "2202":{"2201B":1,"2203":1},
       "2005":{"2002":1,"2016":1,"2009":1,"2011":1},
       "2009":{"2005":1,"2008":1},
       "2008":{"2009":1},
       "2011":{"2005":1,"2012":1},
       "2012":{"2011":1},
       "2016":{"2005":1,"2016A":1,"2014Door":1},
       "2014Door":{"2016":1,"2014":1,"2301":1},
       "2014":{"2014Door":1,"2015":1},
       "2015":{"2014":1},
       "2203Door":{"2202":1,"2203":1},
       "2203":{"2203Door":1,"2204":1,"2206":1},
       "2206":{"2203":1,"2207":1},
       "2207":{"2206":1,"2208":1},
       "2208":{"2207":1},
       "2204":{"2203":1},
       "2301":{"2014Door":1, "2303Door":1},
       "2303Door":{"2301":1,"2303":1,"2305Door":1},
       "2303":{"2303Door":1,"2305":1},
       "2305":{"2303":1,"2305Door":1,"2307":1},
       "2307":{"2305":1,"2307Door":1},
       "2305Door":{"2305":1,"2303Door":1},
       "2307Door":{"2307":1,"2309":1},
       "2309":{"2307Door":1,"2311Door":1,"2310":1},
       "2311Door":{"2309":1,"2311":1,"2313Door":1},
       "2311":{"2311Door":1,"2313":1},
       "2313":{"2311":1,"2313Door":1},
       "2313Door":{"2311Door":1,"2313":1,"2315Door":1},
       "2310":{"2309":1,"2352":1,"2314":1},
       "2314":{"2310":1,"2315Door":1,"2354":1},
       "2315Door":{"2314":1,"2313Door":1,"2315":1,"2317":1},
       "2315":{"2315Door":1},
       "2317":{"2315":1,"2318":1,"2319Door":1},
       "2318":{"2317":1,"2354":1,"2323Door":1},
       "2319Door":{"2317":1,"2319":1,"2321Door":1},
       "2319":{"2319Door":1,"2321":1},
       "2321":{"2319":1,"2321Door":1,"2323":1},
       "2321Door":{"2321":1,"2319Door":1,"2323Door":1},
       "2323Door":{"2318":1,"2321Door":1,"2323":1,"2324Door":1},
       "2323":{"2323Door":1,"2323":1},
       "2324Door":{"2323Door":1,"23234":1,"2325Door":1},
       "2325Door":{"2324Door":1,"2325":1,"2329":1,"2331":1},
       "2331":{"2325Door":1,"2333":1},
       "2333":{"2331":1,"2334Door":1,"2324":1},
       "2334Door":{"2333":1,"2334":1,"2340":1,"2330":1},
       "2330":{"2334Door":1},
       "2340":{"2334Door":1},
       "2329":{"2325Door":1},
       "2325":{"2325Door":1,"2327":1},
       "2327":{"2325":1},
       "2324":{"2324Door":1,"2356":1,"2333":1},
       "2356":{"2324":1,"2334":1},
       "2334":{"2356":1,"2338":1,"2334Door":1},
       "2338":{"2334":1},
       "2354":{"2318":1,"2314":1},
       "2352":{"2310":1}

    }






    app.image1 = app.loadImage('weanF1.PNG')
    app.scale=5/6
    app.image2 = app.scaleImage(app.image1, app.scale)
   
    app.floor2= app.loadImage('WeanF2.PNG')
    app.floor2Scaled = app.scaleImage(app.floor2, app.scale)
    app.r=5
    app.count=0
    app.location=[]
   
    app.image = None
    app.move=1
def keyPressed(app,event):
        if event.key=='Right':
            app.count+=100
        if event.key=='Left':
            app.count-=100
        if event.key=='u':
            app.image=None
            
        #zooms out
        if event.key=='Up':
            if app.image==None:
                snapshotImage = app.getSnapshot()
                app.image = app.scaleImage(snapshotImage, 5/6)
            app.scale+=(1/6)
            app.move+=(1/6)

            app.image2=app.scaleImage(app.image,app.scale)
        #zooms in 
        if event.key=='Down':
            if app.image==None:
                snapshotImage = app.getSnapshot()
                app.image = app.scaleImage(snapshotImage, 5/6)
            app.scale-=(1/6)
            app.move-=(1/6)
            app.image2=app.scaleImage(app.image,app.scale )
    
        

       

def MousePressed(app,event):
    cx=event.x
    cy=event.y
    app.location.append(cx,cy)
    print(cx,cy)


def drawImageWithSizeBelowIt(app, canvas, image, cx, cy):
    canvas.create_image(cx, cy, image=ImageTk.PhotoImage(image))
    imageWidth, imageHeight = image.size
    msg = f'Image size: {imageWidth} x {imageHeight}'
    canvas.create_text(cx, cy + imageHeight/2 + 20,
                       text=msg, font='Arial 20 bold', fill='black')

        


def drawBoard(app,canvas):
   
    
    for element in app.nodeLocation:
            cx,cy= app.nodeLocation[element]
            cx+=app.move
            cy+=app.move
            
            canvas.create_oval(cx+app.count+app.r,cy+app.r,cx+app.count-app.r,cy-app.r,fill='grey')
    
    
def redrawAll(app,canvas):
    canvas.create_rectangle(0,0,app.width,app.height,fill='lightBlue')
    if app.image!=None: 
         canvas.create_image(500+app.count, 300, image=ImageTk.PhotoImage(app.image2))
    if app.image==None:
        canvas.create_rectangle(0,0,app.width,app.height,fill='lightBlue')
        canvas.create_image(500+app.count, 300, image=ImageTk.PhotoImage(app.image2))
        canvas.create_image(1600+app.count, 300, image=ImageTk.PhotoImage(app.floor2))

        drawBoard(app,canvas)

   # drawImageWithSizeBelowIt(app, canvas, app.image2, 500+app.count, 300)
    
    
   
    
    
   





runApp(width=1000, height=600)